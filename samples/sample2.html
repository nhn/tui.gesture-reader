<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        #detect {
            width:500px; height:600px; background-color:hotpink;
        }
        .box {position:absolute; left: 520px; top:10px; background-color:lightpink; width:150px; height:150px;
            font-family: consolas, monaco, monospace;
            font-size: 12px; }
        .box span {display:block;}
        @media screen and (max-width: 400px) {
            .box {left: 150px; top:400px;}
        }
    </style>
</head>
<body>
<div class="code-html">
    <div id="detect"></div>
    <div class="box">
        <span id="direction">Direction : <em></em></span>
        <span id="type">Type : <em></em></span>
    </div>
</div>
<script type="text/javascript" src="https://cdn.rawgit.com/nhnent/tui.code-snippet/1.2.1/code-snippet.js"></script>
<script type="text/javascript" src="../dist/gesture-reader.js"></script>
<script type="text/javascript" class="code-js">
    var DIRECTION = {
        W: 'WEST',
        N: 'NORTH',
        S: 'SOUTH',
        E: 'EAST'
    };

    var info = {},
            detect = document.getElementById('detect'),
            direction = document.getElementById('direction'),
            type = document.getElementById('type'),
            movedetector = new tui.component.Gesture.Reader({
                type: 'flick',
                flickRange: 100
            });

        detect.onmousedown = function(e) {
            e = e || window.event;
            info.x = e.pageX;
            info.y = e.pageY;
            info.start = new Date();
        };
        detect.onmouseup = function(e) {
            e = e || window.event;
            info.end = new Date();

            var result = movedetector.figure({
                start: info.start,
                end: info.end,
                list : [{
                    x: info.x,
                    y: info.y
                }, {
                    x: e.pageX,
                    y: e.pageY
                }]
            });

            setTimeout(function() {
                if (result.isFlick) {
                    type.getElementsByTagName('em')[0].innerHTML = 'flick';
                } else {
                    type.getElementsByTagName('em')[0].innerHTML = 'not flick';
                }
                if (result.direction) {
                    direction.getElementsByTagName('em')[0].innerHTML = DIRECTION[result.direction];
                }
            }, 300);
        };
    </script>
</body>
</html>
